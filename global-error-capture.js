(()=>{{const e=["global-error-capture.js","content.js","fullscreen.js","tools.js"];window.addEventListener("error",n=>{if(n.filename&&!e.find(e=>n.filename.includes(e)))return;n.preventDefault();const r={type:n.type,lineno:n.lineno,colno:n.colno,filename:n.filename,message:n.error?.message||n.message,stack:n.error?.stack||n.stack};return chrome.runtime?.id&&chrome.runtime.sendMessage({type:"unhandled-error",data:r}).catch(e=>{}),!0}),window.addEventListener("unhandledrejection",function(n){if(n.reason?.stack&&!e.find(e=>n.reason.stack.includes(e)))return;n.preventDefault();const r={type:n.type,message:n.reason?.message,stack:n.reason?.stack};chrome.runtime?.id&&chrome.runtime.sendMessage({type:"unhandled-error",data:r}).catch(e=>{})})}})();